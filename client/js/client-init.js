$(document).ready(function() {	render_persons();	var teltypes = null;	$.get('/teltypes', function(data) {		teltypes = data.teltypes;	});	// PERSONS	$(document).on('click', 'a.persons-refresh', function() {		render_persons();		return false;	});	$(document).on('click', 'a.person-add', function() {		$('#person-form').html(render_person_form(null));		$('#person-messages').html('');	});	$(document).on('click', 'a.person-edit', function() {		$.get('/persons/' + $(this).data('id'), function(data) {			$('#person-form').html(render_person_form(data.person));		});		$('#person-messages').html('');		return false;	});	$(document).on('submit', '#person-edit-form', function() {		var person = $(this).serializeObject();		$.postJSON('persons/' + person.ID, person, function(data) {			if(data.person) {				$('#person-form').html(render_person_form(data.person));			}			$('#person-messages').html(render_messages(data.messages));			render_persons();		});		return false;	});	$(document).on('click', 'a.person-delete', function() {		$.delete('/persons/' + $(this).data('id'), function(data) {			$('#person-form').html('');			$('#person-messages').html(render_messages(data.messages));			render_persons();		});		return false;	});	// TELEPHONES	$(document).on('click', 'a.person-telephones, a.telephones-refresh', function() {		render_telephones($(this).data('id'));		$('#tel-details').html('');		return false;	});	$(document).on('click', 'a.telephone-delete', function() {		$.delete('/telephones/' + $(this).data('id'), function(data) {			$('#telephone-details').html(render_messages(data.messages));			render_telephones($('a.tels-refresh:first').data('id'));		});		return false;	});	$(document).on('click', 'a.telephone-edit', function(e) {		$.get(z, function(data) {			$('#tel-details').html(data);		});		return false;	});	$(document).on('click', 'a.telephone-add', function(e) {		$('#telephone-form').html(render_telephone_form(null, teltypes));		$('#telephone-messages').html('');		return false;	});});